import{c as n,j as e}from"./createLucideIcon.FfGchd24.js";import{r as i}from"./index.Dt5TeE8z.js";import{V as s}from"./VideoPlayer.Bu8dL12v.js";import{P as a}from"./play.DQi8FuBb.js";import{T as r}from"./tv.pBaZG7Q3.js";import{S as t}from"./star.BaMZbBQR.js";import{C as o}from"./chevron-right.BSjN0cPt.js";
/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d=n("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),l=({anime:n,initialEpisodes:l=[]})=>{const[c,m]=i.useState(l),[p,g]=i.useState(null),[h,f]=i.useState(""),[x,b]=i.useState(!1),[u,j]=i.useState(!1);i.useEffect(()=>{n?.episode_list&&n.episode_list.length>0&&m(n.episode_list)},[n]),i.useEffect(()=>{c.length>0&&!p&&w(c[0])},[c]);const w=async n=>{g(n),j(!0);try{const e=n.slug||n.id,i=await fetch(`https://www.sankavollerei.com/anime/episode/${e}`),s=await i.json(),a=s?.data||s;let r="";if(a?.streaming){const n=a.streaming;Array.isArray(n)&&n.length>0&&(r=n[0]?.url||n[0]?.src||"")}if(!r&&a?.download){const n=a.download;if(Array.isArray(n)&&n.length>0){const e=n.find(n=>n.url?.includes(".mp4"));r=e?.url||n[0]?.url||""}}!r&&a?.embed&&(r=a.embed),f(r)}catch(e){f("")}finally{j(!1)}};return n?e.jsxs("div",{className:"watch-container",children:[e.jsxs("div",{className:"watch-layout",children:[e.jsxs("div",{className:"video-section",children:[e.jsx("div",{className:"video-wrapper",children:u?e.jsxs("div",{className:"loading-state",children:[e.jsx("div",{className:"spinner"}),e.jsx("p",{children:"Memuat video..."})]}):h?h.includes("iframe")||h.includes("embed")?e.jsx("iframe",{src:h,allowFullScreen:!0,className:"video-iframe"}):e.jsx(s,{url:h}):e.jsxs("div",{className:"placeholder-state",children:[e.jsx(a,{size:64,color:"#6366f1"}),e.jsx("p",{children:"Pilih episode untuk mulai menonton"})]})}),e.jsxs("div",{className:"anime-info-section",children:[e.jsx("h1",{className:"anime-title",children:n.title||n.name}),p&&e.jsxs("p",{className:"current-episode",children:["Sedang memutar: ",e.jsx("strong",{children:p.title||p.episode})]}),e.jsxs("div",{className:"anime-meta",children:[n.type&&e.jsxs("span",{className:"meta-item",children:[e.jsx(r,{size:14}),n.type]}),n.status&&e.jsxs("span",{className:"meta-item status",children:[e.jsx(d,{size:14}),n.status]}),(n.rating||n.score)&&e.jsxs("span",{className:"meta-item rating",children:[e.jsx(t,{size:14,fill:"#fbbf24",color:"#fbbf24"}),n.rating||n.score]})]}),n.synopsis&&e.jsx("p",{className:"anime-synopsis",children:n.synopsis}),n.genres&&n.genres.length>0&&e.jsx("div",{className:"genres-list",children:n.genres.map((n,i)=>e.jsx("span",{className:"genre-tag",children:n.name||n},i))})]})]}),e.jsxs("div",{className:"episode-sidebar",children:[e.jsxs("div",{className:"sidebar-header",children:[e.jsx("h3",{children:"Daftar Episode"}),e.jsxs("span",{className:"episode-count",children:[c.length," Episode"]})]}),e.jsx("div",{className:"episode-list",children:0===c.length?e.jsx("div",{className:"no-episodes",children:e.jsx("p",{children:"Tidak ada episode ditemukan"})}):c.map((n,i)=>e.jsxs("button",{className:"episode-item "+(p?.slug===n.slug?"active":""),onClick:()=>w(n),children:[e.jsx("div",{className:"episode-number",children:i+1}),e.jsxs("div",{className:"episode-info",children:[e.jsx("span",{className:"episode-title",children:n.title||n.episode||`Episode ${i+1}`}),n.date&&e.jsx("span",{className:"episode-date",children:n.date})]}),e.jsx(o,{size:16,className:"episode-arrow"})]},n.slug||n.id||i))})]})]}),e.jsx("style",{jsx:!0,children:"\n                .watch-container {\n                    min-height: 100vh;\n                    background: #0f1115;\n                    padding: 2rem;\n                }\n\n                .watch-layout {\n                    display: grid;\n                    grid-template-columns: 1fr 350px;\n                    gap: 2rem;\n                    max-width: 1600px;\n                    margin: 0 auto;\n                }\n\n                .video-section {\n                    display: flex;\n                    flex-direction: column;\n                    gap: 2rem;\n                }\n\n                .video-wrapper {\n                    aspect-ratio: 16/9;\n                    background: #000;\n                    border-radius: 20px;\n                    overflow: hidden;\n                    position: relative;\n                }\n\n                .video-iframe {\n                    width: 100%;\n                    height: 100%;\n                    border: none;\n                }\n\n                .loading-state,\n                .placeholder-state {\n                    width: 100%;\n                    height: 100%;\n                    display: flex;\n                    flex-direction: column;\n                    align-items: center;\n                    justify-content: center;\n                    gap: 1rem;\n                    color: #64748b;\n                }\n\n                .spinner {\n                    width: 48px;\n                    height: 48px;\n                    border: 3px solid rgba(99, 102, 241, 0.2);\n                    border-top-color: #6366f1;\n                    border-radius: 50%;\n                    animation: spin 1s linear infinite;\n                }\n\n                @keyframes spin {\n                    to { transform: rotate(360deg); }\n                }\n\n                .anime-info-section {\n                    background: rgba(255, 255, 255, 0.02);\n                    border-radius: 20px;\n                    padding: 2rem;\n                    border: 1px solid rgba(255, 255, 255, 0.05);\n                }\n\n                .anime-title {\n                    font-family: 'Outfit', sans-serif;\n                    font-size: 2rem;\n                    font-weight: 800;\n                    color: white;\n                    margin-bottom: 0.5rem;\n                }\n\n                .current-episode {\n                    color: #a5b4fc;\n                    font-size: 1rem;\n                    margin-bottom: 1.5rem;\n                }\n\n                .anime-meta {\n                    display: flex;\n                    flex-wrap: wrap;\n                    gap: 1rem;\n                    margin-bottom: 1.5rem;\n                }\n\n                .meta-item {\n                    display: flex;\n                    align-items: center;\n                    gap: 0.5rem;\n                    background: rgba(255, 255, 255, 0.05);\n                    padding: 0.5rem 1rem;\n                    border-radius: 100px;\n                    font-size: 0.875rem;\n                    color: #94a3b8;\n                }\n\n                .meta-item.status {\n                    background: rgba(99, 102, 241, 0.15);\n                    color: #a5b4fc;\n                }\n\n                .meta-item.rating {\n                    background: rgba(251, 191, 36, 0.15);\n                    color: #fbbf24;\n                }\n\n                .anime-synopsis {\n                    color: #94a3b8;\n                    line-height: 1.7;\n                    margin-bottom: 1.5rem;\n                }\n\n                .genres-list {\n                    display: flex;\n                    flex-wrap: wrap;\n                    gap: 0.5rem;\n                }\n\n                .genre-tag {\n                    background: rgba(99, 102, 241, 0.1);\n                    color: #a5b4fc;\n                    padding: 0.5rem 1rem;\n                    border-radius: 8px;\n                    font-size: 0.8rem;\n                    font-weight: 600;\n                    border: 1px solid rgba(99, 102, 241, 0.2);\n                }\n\n                /* Episode Sidebar */\n                .episode-sidebar {\n                    background: rgba(255, 255, 255, 0.02);\n                    border-radius: 20px;\n                    border: 1px solid rgba(255, 255, 255, 0.05);\n                    overflow: hidden;\n                    display: flex;\n                    flex-direction: column;\n                    max-height: calc(100vh - 4rem);\n                }\n\n                .sidebar-header {\n                    padding: 1.5rem;\n                    background: rgba(99, 102, 241, 0.1);\n                    border-bottom: 1px solid rgba(255, 255, 255, 0.05);\n                    display: flex;\n                    justify-content: space-between;\n                    align-items: center;\n                }\n\n                .sidebar-header h3 {\n                    font-family: 'Outfit', sans-serif;\n                    font-size: 1.25rem;\n                    font-weight: 700;\n                    color: white;\n                }\n\n                .episode-count {\n                    background: #6366f1;\n                    color: white;\n                    padding: 0.25rem 0.75rem;\n                    border-radius: 100px;\n                    font-size: 0.75rem;\n                    font-weight: 700;\n                }\n\n                .episode-list {\n                    flex: 1;\n                    overflow-y: auto;\n                    padding: 1rem;\n                }\n\n                .episode-item {\n                    width: 100%;\n                    display: flex;\n                    align-items: center;\n                    gap: 1rem;\n                    padding: 1rem;\n                    background: transparent;\n                    border: none;\n                    border-radius: 12px;\n                    cursor: pointer;\n                    transition: all 0.2s ease;\n                    text-align: left;\n                    margin-bottom: 0.5rem;\n                }\n\n                .episode-item:hover {\n                    background: rgba(99, 102, 241, 0.1);\n                }\n\n                .episode-item.active {\n                    background: #6366f1;\n                }\n\n                .episode-number {\n                    width: 36px;\n                    height: 36px;\n                    background: rgba(99, 102, 241, 0.2);\n                    border-radius: 10px;\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    font-weight: 700;\n                    color: #a5b4fc;\n                    font-size: 0.875rem;\n                }\n\n                .episode-item.active .episode-number {\n                    background: rgba(255, 255, 255, 0.2);\n                    color: white;\n                }\n\n                .episode-info {\n                    flex: 1;\n                    display: flex;\n                    flex-direction: column;\n                    gap: 0.25rem;\n                }\n\n                .episode-title {\n                    color: white;\n                    font-size: 0.875rem;\n                    font-weight: 600;\n                }\n\n                .episode-date {\n                    color: #64748b;\n                    font-size: 0.75rem;\n                }\n\n                .episode-arrow {\n                    color: #64748b;\n                }\n\n                .episode-item.active .episode-arrow {\n                    color: white;\n                }\n\n                .no-episodes {\n                    padding: 3rem 1rem;\n                    text-align: center;\n                    color: #64748b;\n                }\n\n                .error-state {\n                    text-align: center;\n                    padding: 4rem 2rem;\n                    color: white;\n                }\n\n                .back-link {\n                    color: #6366f1;\n                    text-decoration: none;\n                    margin-top: 1rem;\n                    display: inline-block;\n                }\n\n                @media (max-width: 1024px) {\n                    .watch-layout {\n                        grid-template-columns: 1fr;\n                    }\n\n                    .episode-sidebar {\n                        max-height: none;\n                    }\n                }\n\n                @media (max-width: 768px) {\n                    .watch-container {\n                        padding: 1rem;\n                    }\n\n                    .anime-title {\n                        font-size: 1.5rem;\n                    }\n                }\n            "})]}):e.jsx("div",{className:"watch-container",children:e.jsxs("div",{className:"error-state",children:[e.jsx("h2",{children:"Anime tidak ditemukan"}),e.jsx("a",{href:"/anime",className:"back-link",children:"Kembali ke Anime"})]})})};export{l as default};
